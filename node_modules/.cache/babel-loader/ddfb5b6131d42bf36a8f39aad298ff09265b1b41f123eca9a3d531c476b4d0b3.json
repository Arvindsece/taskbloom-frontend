{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useAuth}from'./AuthContext';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditTask=_ref=>{let{task,onClose,onUpdate}=_ref;const[editedTask,setEditedTask]=useState(task.task);const[editedDueDate,setEditedDueDate]=useState(new Date(task.dueDate).toISOString().split('T')[0]);const{token}=useAuth();const handleSubmit=async e=>{e.preventDefault();if(!editedTask.trim()||!editedDueDate){alert('Please enter both task and due date');return;}try{await axios.put(\"http://localhost:5000/update/\".concat(task._id),{task:editedTask.trim(),dueDate:new Date(editedDueDate).toISOString()},{headers:{'x-auth-token':token}});onUpdate();onClose();}catch(err){console.error('Error updating task:',err);alert('Failed to update task. Please try again.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"edit-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-modal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Task\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"task\",children:\"Task:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"task\",value:editedTask,onChange:e=>setEditedTask(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dueDate\",children:\"Due Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dueDate\",value:editedDueDate,onChange:e=>setEditedDueDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-btn\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"cancel-btn\",children:\"Cancel\"})]})]})]})});};export default EditTask;","map":{"version":3,"names":["React","useState","axios","useAuth","jsx","_jsx","jsxs","_jsxs","EditTask","_ref","task","onClose","onUpdate","editedTask","setEditedTask","editedDueDate","setEditedDueDate","Date","dueDate","toISOString","split","token","handleSubmit","e","preventDefault","trim","alert","put","concat","_id","headers","err","console","error","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required","onClick"],"sources":["C:/Users/Arvind/TASK BLOOM/frontend/src/EditTask.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext';\nimport './App.css';\n\nconst EditTask = ({ task, onClose, onUpdate }) => {\n    const [editedTask, setEditedTask] = useState(task.task);\n    const [editedDueDate, setEditedDueDate] = useState(new Date(task.dueDate).toISOString().split('T')[0]);\n    const { token } = useAuth();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!editedTask.trim() || !editedDueDate) {\n            alert('Please enter both task and due date');\n            return;\n        }\n\n        try {\n            await axios.put(`http://localhost:5000/update/${task._id}`,\n                {\n                    task: editedTask.trim(),\n                    dueDate: new Date(editedDueDate).toISOString()\n                },\n                { headers: { 'x-auth-token': token } }\n            );\n            onUpdate();\n            onClose();\n        } catch (err) {\n            console.error('Error updating task:', err);\n            alert('Failed to update task. Please try again.');\n        }\n    };\n\n    return (\n        <div className=\"edit-modal-overlay\">\n            <div className=\"edit-modal\">\n                <h2>Edit Task</h2>\n                <form onSubmit={handleSubmit} className=\"edit-form\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"task\">Task:</label>\n                        <input\n                            type=\"text\"\n                            id=\"task\"\n                            value={editedTask}\n                            onChange={(e) => setEditedTask(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"dueDate\">Due Date:</label>\n                        <input\n                            type=\"date\"\n                            id=\"dueDate\"\n                            value={editedDueDate}\n                            onChange={(e) => setEditedDueDate(e.target.value)}\n                            required\n                        />\n                    </div>\n                    <div className=\"button-group\">\n                        <button type=\"submit\" className=\"save-btn\">Save</button>\n                        <button type=\"button\" onClick={onClose} className=\"cancel-btn\">Cancel</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditTask;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}